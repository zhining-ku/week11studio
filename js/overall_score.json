{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "description": "A simple bar chart with embedded data.",
    "title": "Overall score for top 100 universities",

    "data": {
        "url":" https://raw.githubusercontent.com/zhining-ku/fit3179week9/main/QS%20World%20University%20Rankings%202022_ver2.csv"
     
    },

          "encoding": {
            "x": {"field":"university", "type":"nominal"},
            "y": {"field":"score","type":"quantitative"},
            "tooltip":  {"field":"university", "type":"nominal"}
          },
          "layer": [{
            "mark": "bar"
          }, {
            "mark": {
              "type": "text",
              "align": "left",
              "baseline": "middle",
              "dx": 1
            },
            "encoding": {
              "text": {"field":"score","type":"quantitative"}
            }
          }],
        "params": [{
            "name": "region",
            "bind": {"input": "select", 
            "options": [null, "Asia", "North America", "Europe", "Oceania", "Latin America"
                ],
        "labels":[
        "Show All",
        "Asia", "North America", "Europe", "Oceania", "Latin America"
        ],
        "name": "Continent Selection: "
        }
        }
        ],
        "transform": [
            {"filter": "region==null  || datum.region== region"},
            {"filter": "datum.rank_display<=100"}
        ]


    

    


    


    
 
          } 